machine:
    timezone:
        Europe/Berlin
    xcode:
        version: 9.2
test:
    override:
        - xcodebuild
            -workspace PubnativeLite.xcworkspace
            -scheme PubnativeLite
            -destination 'platform=iOS Simulator,OS=10.1,name=iPhone 7'
            clean build
            | tee $CIRCLE_ARTIFACTS/test_xcodebuild.log
            | xcpretty -c
deployment:
    staging:
        branch: /.*/
        commands:
            - ./scripts/publish.sh
